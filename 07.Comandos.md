# 3. Comandos <!-- omit in TOC -->

## 1. Crear la carpeta comandos/

## 2. Crear archivo main.tf

Copiar y pegar el contenido:

```tf
resource "local_file" "key_data" {
        filename       = "/tmp/.pki/private_key.pem"
        content = tls_private_key.private_key.private_key_pem
        file_permissions =  "0400"
}
resource "tls_private_key" "private_key" {
  algorithm   = "RSA"
  rsa_bits  =
}
```

## Validar la configuración y reparar los errores

```vim
terraform validate
```

```vim
on main.tf line 8, in resource "tls_private_key" "private_key":
│    8:   rsa_bits  =
│    9: }
```
> Agregar el valor 4096

```vim
│ Error: Missing required provider
│
│ This configuration requires provider registry.terraform.io/hashicorp/local, but that provider isnt available. You may be able to install it automatically by running:
│   terraform init
```
> inicializar terraform

```vim
╷
│ Error: Unsupported argument
│
│   on main.tf line 4, in resource "local_file" "key_data":
│    4:         file_permissions =  "0400"
│
│ An argument named "file_permissions" is not expected here. Did you mean "file_permission"?
```

> cambiar el argumento: **file_permissions** a file_permission

## Formatear el archivo de configuración
```vim
terraform fmt
```
